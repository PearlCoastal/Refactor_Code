# 6.2 å†…è”å‡½æ•°

![](../img/6.2.jpg)

> [åå‘é‡æ„ï¼š6.1 æç‚¼å‡½æ•°](./6.1_extract_function.md)

## ä½¿ç”¨åœºæ™¯

- é—´æ¥æ€§å¯èƒ½ä¼šå¸¦æ¥å¸®åŠ©ï¼Œä½†æ˜¯éå¿…è¦çš„é—´æ¥æ€§æ€»æ˜¯è®©äººä¸èˆ’æœ

## ç¤ºä¾‹ 1. ç®€å•çš„ä¾‹å­

### é‡æ„å‰

```java
function rating(aDriver)
{
    return moreThanFiveLateDeliveries(aDriver) ? 2 : 1;
}
function moreThanFiveLateDeliveries(aDriver)
{
    return aDriver.numberOfLateDeliveries > 5;
}
```

### é‡æ„å

- ç›´æ¥å°†è¢«è°ƒç”¨çš„ return è¯­å¥å¤åˆ¶å‡ºæ¥ï¼Œç²˜è´´åˆ°è°ƒç”¨å¤„

```java
function rating(aDriver)
{
    return aDriver.numberOfLateDeliveries > 5 ? 2 : 1;
```

## ç¤ºä¾‹ 2. ç¨å¾®å¤æ‚

### é‡æ„å‰

- å‡½æ•°çš„å£°æ˜çš„å½¢å‚ä¸è°ƒç”¨å‡ºä½¿ç”¨çš„å˜é‡åä¸åŒ

```java
function rating(aDriver)
{
    return moreThanFiveLateDeliveries(aDriver) ? 2 : 1;
}
function moreThanFiveLateDeliveries(dvr)
{
    return dvr.numberOfLateDeliveries > 5;
}
```

### é‡æ„å

```java
function rating(aDriver)
{
    return aDriver.numberOfLateDeliveries > 5 ? 2 : 1;
}
```

## ç¤ºä¾‹ 3. æ›´å¤æ‚ä¸€ç‚¹

### é‡æ„å‰

```java
function reportLines(aCustomer)
{
    const lines = [];
    gatherCustomerData(lines, aCustomer);
    return lines;
}
function gatherCustomerData(out, aCustomer)
{
    out.push(["name", aCustomer.name]);
    out.push(["location", aCustomer.location]);
}
```

### é‡æ„å

```java
function reportLines(aCustomer)
{
    const lines = [];
    lines.push(["name", aCustomer.name]);
    lines.push(["location", aCustomer.location]);
    return lines;
}
```

## é‡æ„å®ŒæˆğŸ€
