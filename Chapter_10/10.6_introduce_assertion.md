# 10.6 å¼•å…¥æ–­è¨€

![](../img/10.6.jpg)

## ä½¿ç”¨åœºæ™¯

- æœ‰ä¸€æ®µä»£ç ï¼Œå¦‚æœåªæœ‰å½“æŸä¸ªæ¡ä»¶ä¸ºçœŸæ—¶ï¼Œè¯¥æ®µä»£ç æ‰èƒ½æ­£å¸¸è¿è¡Œ

- ä½¿ç”¨ assert æ¥æ˜ç¡®è¡¨æ˜è¿™äº›å‡è®¾

- assert æ˜¯ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œåº”è¯¥æ€»æ˜¯ä¸ºçœŸ

- assert å‘Šè¯‰é˜…è¯»è€…ï¼Œç¨‹åºåœ¨æ‰§è¡Œåˆ°è¿™ä¸€ç‚¹æ—¶ï¼Œå¯¹å½“å‰çŠ¶æ€åšäº†ä½•ç§å‡è®¾

### é‡æ„å‰

- æŠ˜æ‰£ç‡æ°¸è¿œæ˜¯æ­£æ•°

```java
class Customer
{
    applyDiscount(aNumber)
    {
        return (this.discountRate)
            ? aNumber - (this.discountRate * aNumber)
            : aNumber;
    }
}
```

### STEP1. åœ¨ä¸‰å…ƒè¡¨è¾¾å¼ä¸­æ’å…¥ assert ä¸æ˜¯å¾ˆç®€å•

- è½¬æ¢æˆ `if else`

```java
class Customer
{
    applyDiscount(aNumber)
    {
        if (!this.discountRate) return aNumber;
        else return aNumber - (this.discountRate * aNumber);
    }
}
```

### STEP2. åŠ å…¥ assert

```java
class Customer
{
    applyDiscount(aNumber)
    {
        if (!this.discountRate) return aNumber;
        else
        {
            // NOTE
            assert(this.discountRate >= 0);
            return aNumber - (this.discountRate * aNumber);
        }
    }
}
```

### STEP3. çœŸæ­£å¼•èµ·é”™è¯¯çš„æºå¤´å¾ˆéš¾å‘ç°ï¼Œåˆ©ç”¨ assert

```java
class Customer
{
    set discountRate(aNumber)
    {
        assert(null === aNumber || aNumber >= 0);
        this._discountRate = aNumber;
    }
}
```

##

## é‡æ„å®ŒæˆğŸ€
