# 7.7 éšè—å§”æ‰˜å…³ç³»

![](../img/7.7.jpg)

> [åå‘é‡æ„ï¼š7.8 ç§»é™¤ä¸­é—´äºº](./7.8_remove_middle_man.md)

## ä½¿ç”¨åœºæ™¯

- å¦‚æœæŸäº›å®¢æˆ·ç«¯å…ˆé€šè¿‡æœåŠ¡å¯¹è±¡çš„å­—æ®µçš„åˆ°å¦ä¸€ä¸ªå¯¹è±¡(å—æ‰˜ç±»)ï¼Œç„¶åè°ƒç”¨åè€…çš„å‡½æ•°ï¼Œé‚£ä¹ˆå®¢æˆ·å°±å¿…é¡»çŸ¥æ™“è¿™ä¸€å±‚å§”æ‰˜å…³ç³»
- å¦‚æœå—æ‰˜ç±»ä¿®æ”¹äº†æ¥å£ï¼Œå•§å˜åŒ–ä¼šæ³¢åŠé€šè¿‡æœåŠ¡å¯¹è±¡ä½¿ç”¨å®ƒçš„æ‰€æœ‰å®¢æˆ·ç«¯

### é‡æ„å‰

```java
class Person
{
    constructor(name)
    {
        this._name = name;
    }
    get name() { return this._name; }
    get department() { return this._department; }
    set department(arg) { this._department = arg; }
}

class Department
{
    get chargeCode() { return this._chargeCode; }
    set chargeCode(arg) { this._chargeCode = arg; }
    get manager() { return this._manager; }
    set manager(arg) { this._manager = arg; }
}
```

- å½“ä¸€ä¸ªå®¢æˆ·ç«¯å¸Œæœ›çŸ¥é“ä¸€ä¸ª `person` çš„ç»ç†ï¼Œéœ€è¦å…ˆå–å¾— `Department` å¯¹è±¡

- è¿™æ ·å°±æš´éœ²å‡º `Department` çš„å·¥ä½œåŸç†

- è€ƒè™‘å¯¹ `client` éšè— `Department` ï¼Œå‡å°‘è€¦åˆ

```java
maneger = aPerson.department.manager;
```

### STEP1

```java
class Person
{
    get manager() { return this._department.manager; }
}
```

- ä¿®æ”¹ `Person` çš„æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œè®©ä»–ä»¬æ”¹ç”¨æ–°managerå‡½æ•°

```java
manager = aPerson /*.department*/.manager;
```

### STEP2. åªè¦å®Œæˆå¯¹ `Department` æ‰€æœ‰å‡½æ•°çš„ä¿®æ”¹ï¼Œå¹¶ç›¸åº”ä¿®æ”¹äº† `Person` çš„æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œå°±å¯ä»¥ç§»é™¤ `Person` ä¸­çš„ `department` è®¿é—®å‡½æ•°äº†

```java
class Person
{
    constructor(name)
    {
        this._name = name;
    }
    get name() { return this._name; }
    // get department() { return this._department; }
    get manager() { return this._department.manager; }
    set department(arg) { this._department = arg; }
}
```

## é‡æ„å®ŒæˆğŸ€
