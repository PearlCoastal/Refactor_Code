# 12.8 æç‚¼è¶…ç±»

![](../img/12.8.jpg)

## ä½¿ç”¨åœºæ™¯

- ä¸¤ä¸ªç±»åœ¨åšç›¸ä¼¼çš„äº‹ï¼Œå¯ä»¥åˆ©ç”¨åŸºæœ¬çš„ç»§æ‰¿æœºåˆ¶å°†ä»–ä»¬çš„ç›¸ä¼¼ä¹‹å¤„æç‚¼åˆ°è¶…ç±»

- @Date: 2023-04-23 16:07:13

### é‡æ„å‰

```java
class Employee
{
    constructor(name, id, monthlyCost)
    {
        this._id = id;
        this._name = name;
        this._monthlyCost = monthlyCost;
    }
    get monthlyCost() { return this._monthlyCost; }
    get name() { return this._name; }
    get id() { return this._id; }
    get annualCost()
    {
        return this.monthlyCost * 12;
    }
}

class Department
{
    constructor(name, staff)
    {
        this._name = name;
        this._staff = staff;
    }
    get staff() { return this._staff.slice(); }
    get name() { return this._name; }
    get totalMonthlyCost()
    {
        return this.staff
            .map(e = > e.monthlyCost)
            .reduce((sum, cost) = > sum + cost);
    }
    get headCount()
    {
        return this.staff.length;
    }
    get totalAnnualCost()
    {
        return this.totalMonthlyCost * 12;
    }
}
```

### STEP1. æç‚¼å‡ºä¸€ä¸ªå…±åŒçš„è¶…ç±»ï¼Œå…ˆåˆ›å»ºç©ºç±»ï¼Œç„¶åè®©ä¸¤ä¸ªç±»ç»§æ‰¿å®ƒ

```java
class Party
{
}

class Employee extends Party
{
    constructor(name, id, monthlyCost)
    {
        super();
        this._id = id;
        this._name = name;
        this._monthlyCost = monthlyCost;
    }
    // rest of class...
}

class Department extends Party
{
    constructor(name, staff)
    {
        super();
        this._name = name;
        this._staff = staff;
    }
    // rest of class...
}
```

### STEP2. å…ˆä»æ•°æ®å¼€å§‹æ¬ç§»ï¼Œç”¨å­—æ®µä¸Šç§»æŠŠnameå­—æ®µæ¬åˆ°è¶…ç±»ä¸­

### é€šè¿‡å‡½æ•°ä¸Šç§»ï¼ŒæŠŠç›¸å…³çš„å‡½æ•°ä¹Ÿä¸€èµ·æ¬ç§»ï¼Œ`get name()`

```java
class Party
{
    constructor(name)
    {
        this._name = name;
    }
    get name() { return this._name; }
}

class Employee extends Party
{
    constructor(name, id, monthlyCost)
    {
        super();
        this._id = id;
        // this._name = name;
        this._monthlyCost = monthlyCost;
    }
    get name() { return this._name; }
    // rest of class...
}

class Department extends Party
{
    constructor(name, staff)
    {
        super();
        // this._name = name;
        this._staff = staff;
    }
    get name() { return this._name; }
    // rest of class...
}
```

### STEP2. æ”¹å˜å‡½æ•°å£°æ˜å°†æ„å›¾ä¸€è‡´çš„å‡½æ•°ç»Ÿä¸€

```java
class Department
{
    get annualCost()
    {
        return this.monthlyCost * 12;
    }
    get monthlyCost() { ... }
}
```

### STEP3. å‡½æ•°ä¸Šç§»åˆ°è¶…ç±»

```java
class Party
{
    get annualCost()
    {
        return this.monthlyCost * 12;
    }
}
```

- åœ¨å­ç±»ä¸­ç§»é™¤å‡½æ•°

```java
class Employee
{
    constructor(name, id, monthlyCost)
    {
        this._id = id;
        // this._name = name;
        this._monthlyCost = monthlyCost;
    }
    get monthlyCost() { return this._monthlyCost; }
    // get name() { return this._name; }
    get id() { return this._id; }
    // get annualCost()
    // {
    //     return this.monthlyCost * 12;
    // }
}

class Department
{
    constructor(name, staff)
    {
        // this._name = name;
        this._staff = staff;
    }
    get staff() { return this._staff.slice(); }
    // get name() { return this._name; }
    get headCount()
    {
        return this.staff.length;
    }
    // get annualCost()
    // {
    //     return this.monthlyCost * 12;
    // }
    get monthlyCost() { ... }
}
```

### é‡æ„å

```java
class Party
{
    constructor(name)
    {
        this._name = name;
    }
    get name() { return this._name; }
    get annualCost()
    {
        return this.monthlyCost * 12;
    }
}

// åœ¨å­ç±»ä¸­ç§»é™¤å‡½æ•°
class Employee
{
    constructor(name, id, monthlyCost)
    {
        this._id = id;
        // this._name = name;
        this._monthlyCost = monthlyCost;
    }
    get monthlyCost() { return this._monthlyCost; }
    // get name() { return this._name; }
    get id() { return this._id; }
    // get annualCost()
    // {
    //     return this.monthlyCost * 12;
    // }
}

class Department
{
    constructor(name, staff)
    {
        // this._name = name;
        this._staff = staff;
    }
    get staff() { return this._staff.slice(); }
    // get name() { return this._name; }
    get headCount()
    {
        return this.staff.length;
    }
    // get annualCost()
    // {
    //     return this.monthlyCost * 12;
    // }
    get monthlyCost() { ... }
}
```

## é‡æ„å®ŒæˆğŸ€
